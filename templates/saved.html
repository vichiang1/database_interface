<!-- # Copyright 2021 Vitalant
# Author: Vincent Chiang
#
# This program is free software: you can redistribute it and/or modify
# it under the terms of the GNU Affero General Public License as published by
# the Free Software Foundation, either version 3 of the License, or
# (at your option) any later version.
#
# The software is distributed in the hope that it will be useful,
# but WITHOUT ANY WARRANTY; without even the implied warranty of
# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
# GNU Affero General Public License for more details.
#
# You should have received a copy of the GNU Affero General Public License
# along with this software. If not, see <http://www.gnu.org/licenses/>. -->

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>
<body>
    <div>
        <form action = "/logout">
           <p><input type = "submit" value = "Logout" /></p>
       </form>
    </div>
    <div>
         
        <form action = "/main" method = "POST">
            <p><input type = "submit" value = "Return to Table Selection" /></p>
        </form>
    </div>
    <form action = "/saved" method="POST">
        Query: <select name = "name" id= "name" required onchange="showDescription(this)">
            <option value = "" >--Please choose a Query--</option>
            {% for key in mapping.keys() %}
            <option value= "{{key}}">{{key}}</option>"
            {% endfor %}
        </select>

        <div>
            <p id = 'description'>

            </p>
        </div>
        <input type="submit">
    </form>

    <script>
        var m = JSON.parse('{{mapping|tojson}}');
        function showDescription(el){
            document.getElementById("description").innerText = m[el.value];
        }
    </script>
</body>
</html>